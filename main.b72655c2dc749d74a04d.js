(()=>{"use strict";var e={7:(e,t,n)=>{n.r(t)},178:(e,t,n)=>{n.r(t)},775:(e,t,n)=>{n.r(t)},935:(e,t,n)=>{n.r(t)},585:(e,t,n)=>{n.r(t)},231:(e,t,n)=>{n.r(t)},66:(e,t,n)=>{n.r(t)},387:(e,t,n)=>{n.r(t)},448:(e,t)=>{let n;Object.defineProperty(t,"__esModule",{value:!0}),t.animation=void 0,t.animation=function(e,t,r){let a=null;const i={end:!1};return i.id=window.requestAnimationFrame((function s(o){document.querySelectorAll(".car-container").forEach((t=>{var r,a,i;t.id===(null===(i=null===(a=null===(r=e.parentElement)||void 0===r?void 0:r.parentElement)||void 0===a?void 0:a.parentElement)||void 0===i?void 0:i.id)&&(n=t.querySelector(".car-svg-wrapper"))})),a||(a=o);const c=o-a,d=Math.round(c*(t/r));n.style.left=`${Math.min(d,t)}px`,i.distance=d,d<t?i.id=window.requestAnimationFrame(s):i.end=!0})),i}},496:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.winners=t.engine=t.garage=void 0;const n="http://localhost:3000";t.garage=`${n}/garage`,t.engine=`${n}/engine`,t.winners=`${n}/winners`},881:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Car=void 0,n(7);const r=n(520);class a extends r.Component{constructor(e,t,n){super("div","car-container"),this.carSelectButton=document.createElement("button"),this.carRemoveButton=document.createElement("button"),this.carName=document.createElement("h2"),this.carStartButton=document.createElement("button"),this.carStopButton=document.createElement("button"),this.finish=document.createElement("span"),this.carRaceContainer=document.createElement("div"),this.carWrapper=document.createElement("div"),this.left=0,this.container.setAttribute("id",`${e}`);const r=document.createElement("div");r.className="car-settings-container",this.container.append(r),this.carSelectButton.className="car-select-button",this.carSelectButton.setAttribute("id","carSelectButton"),this.carSelectButton.innerText="select",r.append(this.carSelectButton),this.carRemoveButton.className="car-remove-button",this.carRemoveButton.setAttribute("id","carRemoveButton"),this.carRemoveButton.innerText="remove",r.append(this.carRemoveButton),this.carRaceContainer.className="car-race-container",this.container.append(this.carRaceContainer);const a=document.createElement("div");a.className="car-control-container",this.carRaceContainer.append(a),this.carWrapper.className="car-svg-wrapper",a.append(this.carWrapper),this.carWrapper.innerHTML=`\n    <svg id="carSvg" class="car-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="80" height="80">\n      <g id="carBody" data-name="car">\n        <path d="M477.4,193.04,384,176l-79.515-65.975A44.109,44.109,0,0,0,276.526,100H159.38a43.785,43.785,0,0,\n        0-34.359,16.514L74.232,176H40A36.04,36.04,0,0,0,4,212v44a44.049,44.049,0,0,0,44,44h9.145a64,64,0,1,1,\n        125.71,0h162.29a64,64,0,1,1,125.71,0H472a36.04,36.04,0,0,0,36-36V228.632A35.791,35.791,0,0,0,477.4,\n        193.04ZM180,164a12,12,0,0,1-12,12H115.245a6,6,0,0,1-4.563-9.9l34.916-40.9A12,12,0,0,1,154.724,\n        121H168a12,12,0,0,1,12,12Zm60,56H224a12,12,0,0,1,0-24h16a12,12,0,0,1,0,24Zm94.479-43.706-114.507-.266a12,\n        12,0,0,1-11.972-12V133a12,12,0,0,1,12-12h57.548a12,12,0,0,1,7.433,2.58l53.228,42A6,6,0,0,1,334.479,176.294Z"\n        fill="${n}">\n        </path>\n      </g>\n      <g id="wheel-left">\n        <path d="M120,236a52,52,0,1,0,52,52A52.059,52.059,0,0,0,120,236Zm0,76a24,24,0,1,1,24-24A24,24,0,0,1,120,312Z">\n        </path>\n      </g>\n      <g id="wheel-right">\n        <path d="M408,236a52,52,0,1,0,52,52A52.059,52.059,0,0,0,408,236Zm0,76a24,24,0,1,1,24-24A24,24,0,0,1,408,312Z">\n        </path>\n      </g>\n    </svg>\n    `,this.carStopButton.className="car-stop-button",this.carStopButton.setAttribute("id","carStopButton"),this.carStopButton.innerText="stop",a.append(this.carStopButton),this.carStartButton.className="car-start-button",this.carStartButton.setAttribute("id","carStartButton"),this.carStartButton.innerText="start",a.appendChild(this.carStartButton),this.carName.className="car-name",this.carName.innerText=`${t}`,a.append(this.carName),this.finish.className="finish",this.finish.innerText="🏁",this.carRaceContainer.append(this.finish),this.addCarEngine(),this.cancelRace()}render(){return this.container}}t.Car=a},487:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;const r=n(144),a=n(356),i=n(443),s=n(525);class o{constructor(){this.header=new r.Header("header","header"),this.initialPage=new a.GaragePage("garage")}static renderNewPage(e){const t=document.querySelector(`#${o.defaultPageId}`);t&&t.remove();let n=null;if(n="garage"===e?new a.GaragePage(e):"winners"===e?new i.WinnersPage(e):new s.ErrorPage(e,404),n){const e=n.render();e.id=o.defaultPageId,o.container.append(e)}}static enableRouteChange(){window.addEventListener("hashchange",(()=>{const e=window.location.hash.slice(1);o.renderNewPage(e)}))}run(){o.container.append(this.header.render()),o.renderNewPage("garage"),o.enableRouteChange()}}t.App=o,o.container=document.body,o.defaultPageId="current-page"},525:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorPage=void 0;const r=n(976);class a extends r.Page{constructor(e,t){super("error-page"),this.errorType=t}render(){const e=this.createHeaderTitle(a.TextObject[this.errorType]);return this.contentWrapper.append(e),this.container}}t.ErrorPage=a,a.TextObject={404:"Error! The page was not found."}},762:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function o(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.GarageCars=void 0,n(178);const a=n(520),i=n(881),s=n(634),o=n(496);class c extends a.Component{constructor(){super("div","garage-cars-block"),this.settingsBlock=document.createElement("div"),this.carsSettingsContainer=document.createElement("div"),this.raceControlsContainer=document.createElement("div"),this.createCarForm=document.createElement("form"),this.updateCarForm=document.createElement("form"),this.generateCarsButton=document.createElement("button"),this.startRaceButton=document.createElement("button"),this.resetRaceButton=document.createElement("button"),this.createCarNameInput=document.createElement("input"),this.createCarColorInput=document.createElement("input"),this.createCarButton=document.createElement("button"),this.garageCarsTitle=document.createElement("span"),this.garageCarsCount=document.createElement("span"),this.garageCarsPageTitle=document.createElement("span"),this.garageCarsPageCount=document.createElement("span"),this.garageContainer=document.createElement("div")}renderSettingsBlock(){this.settingsBlock.className="settings-block",this.container.append(this.settingsBlock)}renderCarsSettings(){this.carsSettingsContainer.className="cars-settings-container",this.settingsBlock.append(this.carsSettingsContainer)}renderRaceControl(){this.raceControlsContainer.className="race-control-container",this.settingsBlock.append(this.raceControlsContainer)}renderCreateCarForm(){this.createCarForm.className="create-car-form",this.carsSettingsContainer.append(this.createCarForm),this.createCarNameInput.setAttribute("type","text"),this.createCarNameInput.setAttribute("value",""),this.createCarNameInput.setAttribute("value",""),this.createCarNameInput.setAttribute("id","createCarNameInput"),this.createCarNameInput.setAttribute("placeholder","Add car model"),this.createCarNameInput.className="create-car-name-input",this.createCarForm.append(this.createCarNameInput),this.createCarColorInput.setAttribute("type","color"),this.createCarColorInput.setAttribute("value","#F28773"),this.createCarColorInput.setAttribute("id","createCarColorInput"),this.createCarColorInput.className="create-car-color-input",this.createCarForm.append(this.createCarColorInput),this.createCarButton.setAttribute("type","button"),this.createCarButton.className="create-car-button",this.createCarButton.innerText="create",this.createCarForm.append(this.createCarButton)}renderUpdateCarForm(){this.updateCarForm.className="update-car-form",this.carsSettingsContainer.append(this.updateCarForm);const e=document.createElement("input");e.setAttribute("type","text"),e.setAttribute("value",""),e.setAttribute("placeholder","Update car model"),e.className="update-car-name-input",this.updateCarForm.append(e);const t=document.createElement("input");t.setAttribute("type","color"),t.setAttribute("value","#50C878"),t.className="update-car-color-input",this.updateCarForm.append(t);const n=document.createElement("button");n.setAttribute("type","button"),n.className="update-car-button",n.innerText="update",this.updateCarForm.append(n)}renderGenerateCarsButton(){this.generateCarsButton.className="generate-cars-button",this.generateCarsButton.innerText="generate cars",this.carsSettingsContainer.append(this.generateCarsButton)}renderStartRaceButton(){this.startRaceButton.setAttribute("id","startRaceButton"),this.startRaceButton.className="start-race-button",this.startRaceButton.innerText="start race",this.raceControlsContainer.append(this.startRaceButton)}renderResetRaceButton(){this.resetRaceButton.setAttribute("type","button"),this.resetRaceButton.className="reset-race-button",this.resetRaceButton.innerText="reset race",this.raceControlsContainer.append(this.resetRaceButton)}renderGarageCarsTitle(){this.garageCarsTitle.className="garage-cars-title",this.garageCarsTitle.innerText="cars ",this.garageCarsCount.className="garage-cars-count",this.garageCarsCount.innerText="",this.container.append(this.garageCarsTitle),this.container.append(this.garageCarsCount)}renderGarageCarsPageTitle(){const e=document.createElement("div");e.className="garage-cars-page-block",this.garageCarsPageTitle.className="garage-cars-page-title",this.garageCarsPageTitle.innerText="page ",this.garageCarsPageCount.className="garage-cars-page-count",this.garageCarsPageCount.innerText="",this.container.append(e),e.append(this.garageCarsPageTitle),e.append(this.garageCarsPageCount)}renderGarage(){this.garageContainer.className="garage",this.container.append(this.garageContainer)}renderCars(){this.getCars(s.store.page,7).then((e=>{e.forEach((e=>r(this,void 0,void 0,(function*(){var t;null===(t=this.garageContainer)||void 0===t||t.append(new i.Car(e.id,e.name,e.color).render())}))))}))}createCar(){var e;return r(this,void 0,void 0,(function*(){null===(e=this.createCarButton)||void 0===e||e.addEventListener("click",(()=>r(this,void 0,void 0,(function*(){const e=this.createCarNameInput.value,t=this.createCarColorInput.value;if(0===e.trim().length||"#000000"===t)return;const n={name:e,color:t};(yield fetch(`${o.garage}`,{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}})).json(),yield this.clearInput(this.createCarNameInput,this.createCarColorInput),s.store.storeColorCreate="#0000FF",s.store.storeInputCreate=""}))))}))}deletePage(){return r(this,void 0,void 0,(function*(){document.querySelectorAll(".car-container").forEach((e=>{e.remove()})),yield this.getCars(s.store.page,7)}))}clearInput(e,t){e.value="","createCarColorInput"===t.id?t.value="#F28773":t.value="#FFFFFF"}startRaceAll(){this.startRaceButton.addEventListener("click",(()=>r(this,void 0,void 0,(function*(){s.store.isActive=!0,s.store.isRace=!0,yield this.startRaceButton.classList.add("start-race-button-active"),this.startRace(),this.resetClick()}))))}startRace(){return r(this,void 0,void 0,(function*(){const e=document.querySelectorAll(".car-container");let t=!0;yield e.forEach((e=>r(this,void 0,void 0,(function*(){const n=null==e?void 0:e.querySelector(".car-start-button");if(!n)return;const r=yield this.addStartState(e.id,n);(null==r?void 0:r.success)&&t&&0!==Object.keys(r).length&&(t=!1,r.time)}))))}))}render(){return this.renderSettingsBlock(),this.renderCarsSettings(),this.renderCreateCarForm(),this.renderUpdateCarForm(),this.renderGenerateCarsButton(),this.renderRaceControl(),this.renderStartRaceButton(),this.startRaceAll(),this.renderResetRaceButton(),this.renderGarageCarsTitle(),this.renderGarageCarsPageTitle(),this.renderGarage(),this.createCar(),this.renderCars(),this.container}}t.GarageCars=c},356:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GaragePage=void 0,n(775);const r=n(976),a=n(762);class i extends r.Page{constructor(e){super(e),this.garageCars=new a.GarageCars}render(){const e=this.createHeaderTitle(i.TextObject.MainTitle);return e.className="garage-title",this.contentWrapper.append(e),this.contentWrapper.append(this.garageCars.render()),this.container}}t.GaragePage=i,i.TextObject={MainTitle:"garage"}},576:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function o(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Winner=void 0,n(935);const a=n(520);class i extends a.Component{constructor(){super("div","winner"),this.winnerIndex=document.createElement("p"),this.winnerCar=document.createElement("div"),this.winnerName=document.createElement("p"),this.winnerWins=document.createElement("p"),this.winnerTime=document.createElement("p")}renderIndexWinnerContainer(){const e=document.createElement("div");e.className="index-winner-container",e.append(this.winnerIndex),this.container.append(e)}renderNameWinnerContainer(){const e=document.createElement("div");e.className="name-winner-container",e.append(this.winnerName),this.container.append(e)}renderCarWinnerContainer(){const e=document.createElement("div");return e.className="car-winner-container",e.append(this.winnerCar),this.container.append(e),""}renderWinsWinnerContainer(){const e=document.createElement("div");e.className="wins-winner-container",e.append(this.winnerWins),this.container.append(e)}renderTimeWinnerContainer(){const e=document.createElement("div");e.className="time-winner-container",e.append(this.winnerTime),this.container.append(e)}renderWinners(){this.getWinnersFromServer().then((e=>{e.forEach((e=>{(()=>r(this,void 0,void 0,(function*(){(yield this.getCars(e.id,10)).forEach((t=>{e.id===t.id&&(this.winnerCar.innerHTML=`\n            <svg id="carSvg" class="car-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"\n            width="80" height="80">\n              <g id="carBody" data-name="car">\n                <path d="M477.4,193.04,384,176l-79.515-65.975A44.109,44.109,0,0,0,276.526,100H159.38a43.785,43.785,0,0,\n                0-34.359,16.514L74.232,176H40A36.04,36.04,0,0,0,4,212v44a44.049,44.049,0,0,0,44,44h9.145a64,64,0,1,1,\n                125.71,0h162.29a64,64,0,1,1,125.71,0H472a36.04,36.04,0,0,0,36-36V228.632A35.791,35.791,0,0,0,477.4,\n                193.04ZM180,164a12,12,0,0,1-12,12H115.245a6,6,0,0,1-4.563-9.9l34.916-40.9A12,12,0,0,1,154.724,\n                121H168a12,12,0,0,1,12,12Zm60,56H224a12,12,0,0,1,0-24h16a12,12,0,0,1,0,\n                24Zm94.479-43.706-114.507-.266a12,12,0,0,1-11.972-12V133a12,12,0,0,1,12-12h57.548a12,\n                12,0,0,1,7.433,2.58l53.228,42A6,6,0,0,1,334.479,176.294Z" fill="${t.color}">\n                </path>\n              </g>\n              <g id="wheel-left">\n                <path d="M120,236a52,52,0,1,0,52,52A52.059,52.059,0,0,0,120,236Zm0,76a24,24,0,1,1,24-24A24,24,\n                0,0,1,120,312Z">\n                </path>\n              </g>\n              <g id="wheel-right">\n                <path d="M408,236a52,52,0,1,0,52,52A52.059,52.059,0,0,0,408,236Zm0,76a24,24,0,1,1,24-24A24,\n                24,0,0,1,408,312Z">\n                </path>\n              </g>\n            </svg>\n           `,this.winnerName.textContent=t.name)}))})))().then(),this.winnerIndex.innerText=`${e.id}`,this.winnerWins.innerText=`${e.wins}`,this.winnerTime.innerText=`${e.time}`}))}))}renderWinner(){return this.renderIndexWinnerContainer(),this.renderCarWinnerContainer(),this.renderNameWinnerContainer(),this.renderWinsWinnerContainer(),this.renderTimeWinnerContainer(),this.renderWinners(),this.container}}t.Winner=i},443:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WinnersPage=void 0,n(585);const r=n(976),a=n(576),i=["number","car","name","wins","best time"];class s extends r.Page{constructor(e){super(e),this.winnersTableHeaderContainer=document.createElement("div"),this.winnersTableHeader=document.createElement("div"),this.winnersTableHeaderList=document.createElement("ul"),this.winnersTableUser=document.createElement("div"),this.winner=new a.Winner}renderWinnersTableHeaderContainer(){return this.winnersTableHeaderContainer.className="winners-table-header-container",this.contentWrapper.append(this.winnersTableHeaderContainer),this.container}renderWinnersTableHeader(){return this.winnersTableHeader=document.createElement("div"),this.winnersTableHeader.className="winners-table-header",this.winnersTableHeaderContainer.append(this.winnersTableHeader),this.container}renderWinnersTableHeaderList(){this.winnersTableHeaderList.className="winners-table-header-list",this.winnersTableHeader.append(this.winnersTableHeaderList);for(let e=0;e<i.length;e++){const t=document.createElement("li");t.className="winners-table-header-list-item",t.innerText=i[e],this.winnersTableHeaderList.append(t)}return this.container}renderWinnersTableUser(){return this.winnersTableUser.className="winners-table-user",this.winnersTableHeaderContainer.append(this.winnersTableUser),this.winnersTableUser.append(this.winner.renderWinner()),this.container}render(){const e=this.createHeaderTitle(s.TextObject.MainTitle);return e.className="winners-title",this.contentWrapper.append(e),this.renderWinnersTableHeaderContainer(),this.renderWinnersTableHeader(),this.renderWinnersTableHeaderList(),this.renderWinnersTableUser(),this.container}}t.WinnersPage=s,s.TextObject={MainTitle:"winners"}},144:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Header=void 0,n(231);const r=n(520),a=[{id:"garage",text:"🚔 🚖 GARAGE"},{id:"winners",text:"🏆 🏁 WINNERS"}];class i extends r.Component{constructor(e,t){super(e,t),this.headerLogo=document.createElement("div")}renderHeaderLogo(){this.headerLogo.className="header-logo-block",this.headerLogo.innerHTML='\n        <a href="#garage">\n          <h1 class="header-logo">async</h1>\n        </a>\n    ',this.container.append(this.headerLogo)}renderPageButtons(){const e=document.createElement("nav"),t=document.createElement("ul");e.className="header-nav",e.append(t),t.className="header-nav-menu",a.forEach((e=>{const n=document.createElement("li"),r=document.createElement("a");r.className="header-nav-menu__link",r.href=`#${e.id}`,r.innerText=e.text,t.append(n),n.className="header-nav-menu__item",n.append(r)})),this.container.append(e)}render(){return this.renderHeaderLogo(),this.renderPageButtons(),this.container}}t.Header=i},520:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function o(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Component=void 0;const a=n(496),i=n(448),s=n(634);t.Component=class{constructor(e,t){this.container=document.createElement(e),this.container.className=t}getCars(e,t){return r(this,void 0,void 0,(function*(){const e=yield fetch(`${a.garage}`);return yield e.json()}))}getWinnersFromServer(){return r(this,void 0,void 0,(function*(){const e=yield fetch(`${a.winners}`);return yield e.json()}))}getEngineDriveStatusFromServer(e){return r(this,void 0,void 0,(function*(){const t=yield fetch(`${a.engine}?id=${e}&status=drive`).catch();return 200!==t.status?{success:!1}:Object.assign({},yield t.json())}))}getEngineStopStatusFromServer(e){return r(this,void 0,void 0,(function*(){return e?(yield fetch(`${a.engine}?id=${e}&status=stopped`)).json():{}}))}getEngineStartStatusFromServer(e){return r(this,void 0,void 0,(function*(){return e?(s.store.animation[e]&&(s.store.animation[e].stopped=!1),(yield fetch(`${a.engine}?id=${e}&status=started`)).json()):{}}))}getPositionAtCenter(e){const{top:t,left:n,width:r,height:a}=e.getBoundingClientRect();return{x:n+r/2,y:t+a/2}}getDistanceBetweenElement(e,t){const n=this.getPositionAtCenter(e),r=this.getPositionAtCenter(t);return Math.hypot(n.x-r.x,n.y-r.y)}addStartState(e,t){return r(this,void 0,void 0,(function*(){if(!e)return{};t.classList.add("car-start-button-active");const{velocity:n,distance:r}=yield this.getEngineStartStatusFromServer(e);if(!r||!n)return{};const a=Math.round(r/n);let o,c;if(document.querySelectorAll(".car-container").forEach((t=>{var n;t.id===e&&(null===(n=t.querySelector(".car-stop-button"))||void 0===n||n.classList.add("car-stop-button-active"),o=t.querySelector(".car-svg-wrapper"),c=t.querySelector(".finish"))})),!o||!c)return{};const d=Math.floor(this.getDistanceBetweenElement(o,c))+60;s.store.animation[e]=i.animation(o,d,a);const{success:l}=yield this.getEngineDriveStatusFromServer(e);return l||(s.store.animation[e].end=yield!0,yield window.cancelAnimationFrame(s.store.animation[e].id)),s.store.animation[e].stopped?{}:{success:l,id:e,time:a}}))}addStopState(e,t){var n,a;return r(this,void 0,void 0,(function*(){e&&(s.store.animation[e]&&(s.store.animation[e].stopped=!0),yield this.getEngineStopStatusFromServer(e),null===(n=t.previousElementSibling)||void 0===n||n.classList.remove("car-start-button-active"),(null===(a=t.parentElement)||void 0===a?void 0:a.querySelector(".car-svg-wrapper")).style.left="0px",s.store.animation[e]&&window.cancelAnimationFrame(s.store.animation[e].id))}))}removeEngine(){document.querySelectorAll(".car-stop-button").forEach((e=>{e.addEventListener("click",(()=>this.stopItemEngine(e)))}))}startItemEngine(e){var t,n,r;this.addStartState(null===(r=null===(n=null===(t=null==e?void 0:e.parentElement)||void 0===t?void 0:t.parentElement)||void 0===n?void 0:n.parentElement)||void 0===r?void 0:r.id,e)}stopItemEngine(e){var t,n,r;e.classList.remove("car-stop-button-active"),this.addStopState(null===(r=null===(n=null===(t=null==e?void 0:e.parentElement)||void 0===t?void 0:t.parentElement)||void 0===n?void 0:n.parentElement)||void 0===r?void 0:r.id,e)}addCarEngine(){const e=document.querySelectorAll("#carStartButton");e&&(Object.keys(s.store.animation).forEach((e=>{const t=document.querySelectorAll(".car-container");null==t||t.forEach((t=>{var n,r,a,i;if(t.id===e){null===(n=t.querySelector(".car-start-button"))||void 0===n||n.classList.add("car-start-button-active"),null===(r=t.querySelector(".car-stop-button"))||void 0===r||r.classList.add("car-stop-button-active");const o=t.querySelector(".car-svg-wrapper");s.store.animation[e].end&&(o.style.left=`(${s.store.animation[e].distance}px)`),s.store.animation[e].stopped&&(o.style.left="0px",null===(a=t.querySelector(".car-start-button"))||void 0===a||a.classList.remove("car-start-button-active"),null===(i=t.querySelector(".car-stop-button"))||void 0===i||i.classList.remove("car-stop-button-active"))}}))})),e.forEach((e=>{e.addEventListener("click",(()=>{this.startItemEngine(e)}))})))}cancelRace(){document.querySelectorAll(".car-svg-wrapper").forEach((e=>r(this,void 0,void 0,(function*(){const t=null==e?void 0:e.querySelector(".car-stop-button");t&&(yield this.stopItemEngine(t))}))))}resetClick(){const e=document.querySelector(".reset-race-button");null==e||e.addEventListener("click",(()=>{var t;s.store.isRace=!1,s.store.isActive=!1,null===(t=null==e?void 0:e.previousElementSibling)||void 0===t||t.classList.remove("start-race-button-active"),this.cancelRace()}))}render(){return this.resetClick(),this.container}}},976:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Page=void 0,n(66);class r{constructor(e){this.container=document.createElement("main"),this.container.id=e,this.contentWrapper=document.createElement("div"),this.contentWrapper.className="content-wrapper",this.container.append(this.contentWrapper)}createHeaderTitle(e){const t=document.createElement("h2");return this.container.append(t),t.innerText=e,t}render(){return this.container}}t.Page=r,r.TextObject={}},634:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.store=void 0,t.store={page:1,winnersPage:1,countCars:4,countWinners:4,storeInputUpdate:"",storeColorUpdate:"",storeInputCreate:"",storeColorCreate:"#F28773",storeUpdateItem:void 0,animation:{},sortOrder:"asc",sort:"time",isEngineStarted:!1,isRace:!1,isActive:!1,updateCar:!1}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(387),(new(n(487).App)).run()})();