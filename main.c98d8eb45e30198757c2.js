(()=>{"use strict";var e={7:(e,t,a)=>{a.r(t)},178:(e,t,a)=>{a.r(t)},775:(e,t,a)=>{a.r(t)},585:(e,t,a)=>{a.r(t)},231:(e,t,a)=>{a.r(t)},66:(e,t,a)=>{a.r(t)},387:(e,t,a)=>{a.r(t)},496:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.winners=t.engine=t.garage=void 0;const a="http://localhost:3000";t.garage=`${a}/garage`,t.engine=`${a}/engine`,t.winners=`${a}/winners`},881:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Car=void 0,a(7);const r=a(520);class n extends r.Component{constructor(e,t,a){super("div","car-container"),this.carSelectButton=document.createElement("button"),this.carRemoveButton=document.createElement("button"),this.carName=document.createElement("h2"),this.carStartButton=document.createElement("button"),this.carStopButton=document.createElement("button"),this.finish=document.createElement("span"),this.carRaceContainer=document.createElement("div"),this.carWrapper=document.createElement("div"),this.left=0,this.container.setAttribute("id",`${e}`);const r=document.createElement("div");r.className="car-settings-container",this.container.append(r),this.carSelectButton.className="car-select-button",this.carSelectButton.setAttribute("id","carSelectButton"),this.carSelectButton.innerText="select",r.append(this.carSelectButton),this.carRemoveButton.className="car-remove-button",this.carRemoveButton.setAttribute("id","carRemoveButton"),this.carRemoveButton.innerText="remove",r.append(this.carRemoveButton),this.carName.className="car-model",this.carName.innerText=`${t}`,this.carRaceContainer.className="car-race-container",this.container.append(this.carRaceContainer);const n=document.createElement("div");n.className="car-control-container",this.carRaceContainer.append(n),this.carWrapper.className="car-svg-wrapper",n.append(this.carWrapper),this.carWrapper.innerHTML=`\n    <svg id="carSvg" class="car-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="80" height="80">\n      <g id="carBody" data-name="car">\n        <path d="M477.4,193.04,384,176l-79.515-65.975A44.109,44.109,0,0,0,276.526,100H159.38a43.785,43.785,0,0,\n        0-34.359,16.514L74.232,176H40A36.04,36.04,0,0,0,4,212v44a44.049,44.049,0,0,0,44,44h9.145a64,64,0,1,1,\n        125.71,0h162.29a64,64,0,1,1,125.71,0H472a36.04,36.04,0,0,0,36-36V228.632A35.791,35.791,0,0,0,477.4,\n        193.04ZM180,164a12,12,0,0,1-12,12H115.245a6,6,0,0,1-4.563-9.9l34.916-40.9A12,12,0,0,1,154.724,\n        121H168a12,12,0,0,1,12,12Zm60,56H224a12,12,0,0,1,0-24h16a12,12,0,0,1,0,24Zm94.479-43.706-114.507-.266a12,\n        12,0,0,1-11.972-12V133a12,12,0,0,1,12-12h57.548a12,12,0,0,1,7.433,2.58l53.228,42A6,6,0,0,1,334.479,176.294Z"\n        fill="${a}">\n        </path>\n      </g>\n      <g id="wheel-left">\n        <path d="M120,236a52,52,0,1,0,52,52A52.059,52.059,0,0,0,120,236Zm0,76a24,24,0,1,1,24-24A24,24,0,0,1,120,312Z">\n        </path>\n      </g>\n      <g id="wheel-right">\n        <path d="M408,236a52,52,0,1,0,52,52A52.059,52.059,0,0,0,408,236Zm0,76a24,24,0,1,1,24-24A24,24,0,0,1,408,312Z">\n        </path>\n      </g>\n    </svg>\n    `,this.carStopButton.className="car-stop-button",this.carStopButton.innerText="stop",this.carStopButton.addEventListener("click",(()=>{this.stop()})),n.append(this.carStopButton),this.carStartButton.className="car-start-button",this.carStartButton.innerText="start",this.carStartButton.addEventListener("click",(()=>{this.startRace()})),n.appendChild(this.carStartButton),this.finish.className="finish",this.finish.innerText="🏁",this.carRaceContainer.append(this.finish)}initButtonRaceAll(){document.getElementById("startRaceButton").addEventListener("click",(()=>{this.startRace()}))}stop(){cancelAnimationFrame(this.requestId),this.carWrapper.style.left="0"}startRace(){const e=performance.now(),t=a=>{let r=(performance.now()-e)/a;r>1&&(r=1),this.carWrapper.style.left=1810*r+"px",r<1&&(this.requestId=requestAnimationFrame((()=>t(a))))};t(2e3)}render(){return this.initButtonRaceAll(),this.container}}t.Car=n},487:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;const r=a(144),n=a(356),s=a(443),i=a(525);class o{constructor(){this.header=new r.Header("header","header"),this.initialPage=new n.GaragePage("garage")}static renderNewPage(e){const t=document.querySelector(`#${o.defaultPageId}`);t&&t.remove();let a=null;if(a="garage"===e?new n.GaragePage(e):"winners"===e?new s.WinnersPage(e):new i.ErrorPage(e,404),a){const e=a.render();e.id=o.defaultPageId,o.container.append(e)}}static enableRouteChange(){window.addEventListener("hashchange",(()=>{const e=window.location.hash.slice(1);o.renderNewPage(e)}))}run(){o.container.append(this.header.render()),o.renderNewPage("garage"),o.enableRouteChange()}}t.App=o,o.container=document.body,o.defaultPageId="current-page"},525:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorPage=void 0;const r=a(976);class n extends r.Page{constructor(e,t){super("error-page"),this.errorType=t}render(){const e=this.createHeaderTitle(n.TextObject[this.errorType]);return this.contentWrapper.append(e),this.container}}t.ErrorPage=n,n.TextObject={404:"Error! The page was not found."}},762:function(e,t,a){var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(n,s){function i(e){try{c(r.next(e))}catch(e){s(e)}}function o(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(i,o)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.GarageCars=void 0,a(178);const n=a(520),s=a(881),i=a(634),o=a(496);class c extends n.Component{constructor(){super("div","garage-cars-block"),this.garageCarsTitle=document.createElement("span"),this.garageCarsCount=document.createElement("span"),this.garageCarsPageTitle=document.createElement("span"),this.garageCarsPageCount=document.createElement("span"),this.garageContainer=document.createElement("div")}renderGarageCarsTitle(){this.garageCarsTitle.className="garage-cars-title",this.garageCarsTitle.innerText="cars ",this.garageCarsCount.className="garage-cars-count",this.garageCarsCount.innerText="",this.container.append(this.garageCarsTitle),this.container.append(this.garageCarsCount)}renderGarageCarsPageTitle(){const e=document.createElement("div");e.className="garage-cars-page-block",this.garageCarsPageTitle.className="garage-cars-page-title",this.garageCarsPageTitle.innerText="page ",this.garageCarsPageCount.className="garage-cars-page-count",this.garageCarsPageCount.innerText="",this.container.append(e),e.append(this.garageCarsPageTitle),e.append(this.garageCarsPageCount)}renderGarage(){this.garageContainer.className="garage",this.container.append(this.garageContainer)}getCars(e,t){return r(this,void 0,void 0,(function*(){const a=yield fetch(`${o.garage}?_page=${e}&_limit=${t}`);(yield a.json()).forEach((e=>r(this,void 0,void 0,(function*(){var t;null===(t=this.garageContainer)||void 0===t||t.append(new s.Car(e.id,e.name,e.color).render())}))))}))}render(){return this.renderGarageCarsTitle(),this.renderGarageCarsPageTitle(),this.renderGarage(),this.getCars(i.store.page,7),this.container}}t.GarageCars=c},356:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GaragePage=void 0,a(775);const r=a(976),n=a(762);class s extends r.Page{constructor(e){super(e),this.settingsBlock=document.createElement("div"),this.carsSettingsContainer=document.createElement("div"),this.raceControlsContainer=document.createElement("div"),this.createCarForm=document.createElement("form"),this.updateCarForm=document.createElement("form"),this.generateCarsButton=document.createElement("button"),this.startRaceButton=document.createElement("button"),this.resetRaceButton=document.createElement("button"),this.garageCars=new n.GarageCars}renderSettingsBlock(){this.settingsBlock.className="settings-block",this.contentWrapper.append(this.settingsBlock)}renderCarsSettings(){this.carsSettingsContainer.className="cars-settings-container",this.settingsBlock.append(this.carsSettingsContainer)}renderRaceControl(){this.raceControlsContainer.className="race-control-container",this.settingsBlock.append(this.raceControlsContainer)}renderCreateCarForm(){this.createCarForm.className="create-car-form",this.carsSettingsContainer.append(this.createCarForm);const e=document.createElement("input");e.setAttribute("type","text"),e.setAttribute("value",""),e.setAttribute("placeholder","Add car model"),e.className="create-car-name-input",this.createCarForm.append(e);const t=document.createElement("input");t.setAttribute("type","color"),t.setAttribute("value","#F28773"),t.className="create-car-color-input",this.createCarForm.append(t);const a=document.createElement("button");a.setAttribute("type","button"),a.className="create-car-button",a.innerText="create",this.createCarForm.append(a)}renderUpdateCarForm(){this.updateCarForm.className="update-car-form",this.carsSettingsContainer.append(this.updateCarForm);const e=document.createElement("input");e.setAttribute("type","text"),e.setAttribute("value",""),e.setAttribute("placeholder","Update car model"),e.className="update-car-name-input",this.updateCarForm.append(e);const t=document.createElement("input");t.setAttribute("type","color"),t.setAttribute("value","#50C878"),t.className="update-car-color-input",this.updateCarForm.append(t);const a=document.createElement("button");a.setAttribute("type","button"),a.className="update-car-button",a.innerText="update",this.updateCarForm.append(a)}renderGenerateCarsButton(){this.generateCarsButton.className="generate-cars-button",this.generateCarsButton.innerText="generate cars",this.carsSettingsContainer.append(this.generateCarsButton)}renderStartRaceButton(){this.startRaceButton.setAttribute("id","startRaceButton"),this.startRaceButton.className="start-race-button",this.startRaceButton.innerText="start race",this.raceControlsContainer.append(this.startRaceButton)}renderResetRaceButton(){this.resetRaceButton.setAttribute("type","button"),this.resetRaceButton.className="reset-race-button",this.resetRaceButton.innerText="reset race",this.raceControlsContainer.append(this.resetRaceButton)}render(){const e=this.createHeaderTitle(s.TextObject.MainTitle);return e.className="garage-title",this.contentWrapper.append(e),this.renderSettingsBlock(),this.renderCarsSettings(),this.renderCreateCarForm(),this.renderUpdateCarForm(),this.renderGenerateCarsButton(),this.renderRaceControl(),this.renderStartRaceButton(),this.renderResetRaceButton(),this.contentWrapper.append(this.garageCars.render()),this.container}}t.GaragePage=s,s.TextObject={MainTitle:"garage"}},443:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WinnersPage=void 0,a(585);const r=a(976),n=["number","car","name","wins","best time"];class s extends r.Page{constructor(e){super(e),this.winnersTableHeaderContainer=document.createElement("div"),this.winnersTableHeader=document.createElement("div"),this.winnersTableHeaderList=document.createElement("ul"),this.winnersTableUser=document.createElement("div")}renderWinnersTableHeaderContainer(){return this.winnersTableHeaderContainer.className="winners-table-header-container",this.contentWrapper.append(this.winnersTableHeaderContainer),this.container}renderWinnersTableHeader(){return this.winnersTableHeader=document.createElement("div"),this.winnersTableHeader.className="winners-table-header",this.winnersTableHeaderContainer.append(this.winnersTableHeader),this.container}renderWinnersTableHeaderList(){this.winnersTableHeaderList.className="winners-table-header-list",this.winnersTableHeader.append(this.winnersTableHeaderList);for(let e=0;e<n.length;e++){const t=document.createElement("li");if(3===e){const a=document.createElement("a");a.className="winners-table-header-list-link",a.innerText=n[e],t.append(a)}if(4===e){const a=document.createElement("a");a.className="winners-table-header-list-link",a.innerText=n[e],t.append(a)}t.className="winners-table-header-list-item",t.innerText=n[e],this.winnersTableHeaderList.append(t)}return this.container}renderWinnersTableUser(){return this.winnersTableUser.className="winners-table-user",this.winnersTableHeaderContainer.append(this.winnersTableUser),this.container}render(){const e=this.createHeaderTitle(s.TextObject.MainTitle);return e.className="winners-title",this.contentWrapper.append(e),this.renderWinnersTableHeaderContainer(),this.renderWinnersTableHeader(),this.renderWinnersTableHeaderList(),this.renderWinnersTableUser(),this.container}}t.WinnersPage=s,s.TextObject={MainTitle:"winners"}},144:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Header=void 0,a(231);const r=a(520),n=[{id:"garage",text:"🚔 🚖 GARAGE"},{id:"winners",text:"🏆 🏁 WINNERS"}];class s extends r.Component{constructor(e,t){super(e,t),this.headerLogo=document.createElement("div")}renderHeaderLogo(){this.headerLogo.className="header-logo-block",this.headerLogo.innerHTML='\n        <a href="#garage">\n          <h1 class="header-logo">async</h1>\n        </a>\n    ',this.container.append(this.headerLogo)}renderPageButtons(){const e=document.createElement("nav"),t=document.createElement("ul");e.className="header-nav",e.append(t),t.className="header-nav-menu",n.forEach((e=>{const a=document.createElement("li"),r=document.createElement("a");r.className="header-nav-menu__link",r.href=`#${e.id}`,r.innerText=e.text,t.append(a),a.className="header-nav-menu__item",a.append(r)})),this.container.append(e)}render(){return this.renderHeaderLogo(),this.renderPageButtons(),this.container}}t.Header=s},520:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Component=void 0,t.Component=class{constructor(e,t){this.container=document.createElement(e),this.container.className=t}render(){return this.container}}},976:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Page=void 0,a(66);class r{constructor(e){this.container=document.createElement("main"),this.container.id=e,this.contentWrapper=document.createElement("div"),this.contentWrapper.className="content-wrapper",this.container.append(this.contentWrapper)}createHeaderTitle(e){const t=document.createElement("h2");return this.container.append(t),t.innerText=e,t}render(){return this.container}}t.Page=r,r.TextObject={}},634:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.store=void 0,t.store={page:1,winnersPage:1,countCars:4,countWinners:4,storeInputUpdate:"",storeColorUpdate:"",storeInputCreate:"",storeColorCreate:"#F28773",storeUpdateItem:void 0,animation:{},sortOrder:"asc",sort:"time",isEngineStarted:!1,isRace:!1,isActive:!1,updateCar:!1}}},t={};function a(r){var n=t[r];if(void 0!==n)return n.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,a),s.exports}a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a(387),(new(a(487).App)).run()})();